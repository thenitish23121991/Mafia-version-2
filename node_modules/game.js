
var db = require('db');
var games = db.games;
var users = db.users;

module.exports = {


add_game : function(name,user,callback){
console.log('request');
var game_users = new Array();
var user_json = {'name':name,'role':'host'};
game_users.push(user_json);
var result12 = games.insert({name:name,users:game_users});
result12.on('complete',function(err,docs){
callback(docs);
});
},

get_live_games : function(callback){
console.log('request');
var result1 = games.find({});
result1.on('complete',function(err,docs){
callback(docs);
});
},

add_nick : function(name,callback){
console.log('add nick');
var result112 = users.insert({name:name});
result112.on('complete',function(err,docs){
callback(docs);
});
},


get_game_id_from_name : function(name,docs){
var game1 = games.find({name:name});
game1.on('complete',function(err,docs){
callback(docs);
});
},

get_game_players : function(name,callback){
var result113 = games.find({name:name});
result113.on('complete',function(err,docs){
callback(docs);
});
}




}